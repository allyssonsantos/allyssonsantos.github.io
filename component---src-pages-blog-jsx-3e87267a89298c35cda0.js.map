{"version":3,"file":"component---src-pages-blog-jsx-3e87267a89298c35cda0.js","mappings":"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","sources":["webpack://allysson.me/./src/components/Home/About.jsx","webpack://allysson.me/./src/components/Home/Description.jsx","webpack://allysson.me/./src/components/Home/Projects.jsx","webpack://allysson.me/./src/components/Home/Title.jsx","webpack://allysson.me/./src/components/Home/Subtitle.jsx","webpack://allysson.me/./src/components/Home/Me.jsx","webpack://allysson.me/./src/components/Posts/Comments.jsx","webpack://allysson.me/./src/pages/blog.jsx"],"sourcesContent":["import styled from 'styled-components';\n\nconst About = styled.section`\n  display: flex;\n  align-items: center;\n\n  @media (max-width: 540px) {\n    align-items: flex-start;\n    flex-direction: column-reverse;\n  }\n`;\n\nexport default About;\n","import styled from 'styled-components';\nimport rem from '@utils/rem';\n\nconst Description = styled.p`\n  font-size: ${rem(16)};\n  font-weight: normal;\n\n  margin: 0;\n  margin-top: ${rem(20)};\n\n  color: ${(props) => props.theme.colors.neutral[900]};\n`;\n\nexport default Description;\n","import styled, { css } from 'styled-components';\nimport rem from '@utils/rem';\n\nimport { PostTitle, PostDescription } from '../Posts/Posts';\n\nconst Repos = styled.div(\n  ({ theme }) => css`\n    display: flex;\n    flex-wrap: wrap;\n    gap: 20px;\n\n    margin-top: ${theme.spacings.xlarge}px;\n  `\n);\n\nconst Project = styled.a.attrs({ target: '_blank' })(\n  ({ theme }) => css`\n    position: relative;\n\n    display: flex;\n\n    flex-direction: column;\n    justify-content: space-between;\n\n    width: 100%;\n\n    padding: ${theme.spacings.small}px;\n\n    transition: transform 0.3s ease, border-color 0.3s ease;\n\n    text-decoration: none;\n\n    color: ${theme.colors.neutral[800]};\n\n    border: 1px solid ${theme.colors.neutral[800]};\n    border-radius: 4px;\n\n    &:hover {\n      transform: scale(1.02);\n    }\n\n    svg,\n    img {\n      position: absolute;\n      top: ${theme.spacings.small}px;\n      right: ${theme.spacings.small}px;\n      stroke: none;\n\n      width: 50px;\n    }\n  `\n);\n\nconst ProjectTitle = styled(PostTitle)`\n  margin-bottom: 12px;\n`;\n\nconst ProjectDescription = styled(PostDescription)`\n  font-size: ${rem(14)};\n`;\n\nexport { Repos, Project, ProjectTitle, ProjectDescription };\n","import styled, { css } from 'styled-components';\nimport rem from '@utils/rem';\n\nconst Title = styled.h1(\n  ({ theme }) => css`\n    font-size: ${rem(22)};\n    line-height: 1;\n\n    margin: 0;\n\n    color: ${theme.colors.neutral[800]};\n  `\n);\n\nexport default Title;\n","import styled from 'styled-components';\nimport rem from '@utils/rem';\n\nimport Title from './Title';\n\nconst Subtitle = styled(Title).attrs({ as: 'h2' })`\n  font-size: ${rem(14)};\n  font-weight: normal;\n\n  margin-bottom: 24px;\n`;\n\nexport default Subtitle;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled, { css } from 'styled-components';\n\nimport { useDarkTheme } from '@utils/color-scheme';\nimport rem from '@utils/rem';\n\nconst Picture = styled.picture(\n  ({ theme }) => css`\n    flex-shrink: 0;\n\n    margin-bottom: 24px;\n\n    border: none;\n    border-radius: ${theme.radius[1]}px;\n\n    @media (min-width: 540px) {\n      margin-left: 24px;\n    }\n  `\n);\n\nconst Image = styled.img(\n  ({ darkTheme }) => css`\n    width: ${rem(120)};\n    height: ${rem(120)};\n\n    transition: filter 300ms ease-in-out;\n\n    ${darkTheme\n      ? css`\n          filter: grayscale(0.8) brightness(1.2);\n        `\n      : css`\n          filter: grayscale(0);\n        `}\n  `\n);\n\nfunction Me({ children, ...props }) {\n  const { currentTheme } = useDarkTheme();\n\n  return (\n    <Picture>\n      {children}\n      <Image\n        alt=\"Allysson Santos\"\n        darkTheme={currentTheme === 'dark'}\n        src=\"/me.jpg\"\n        {...props}\n      />\n    </Picture>\n  );\n}\n\nMe.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport default Me;\n","import React, { useRef, useReducer } from 'react';\nimport PropTypes from 'prop-types';\nimport styled, { css } from 'styled-components';\nimport {\n  collection,\n  addDoc,\n  deleteDoc,\n  query,\n  where,\n  getDocs,\n  documentId,\n  serverTimestamp,\n} from 'firebase/firestore';\nimport { X } from 'react-feather';\nimport { Alert, Button } from '@frigobar/core';\nimport { useFade } from '@frigobar/animation';\n\nimport { Modal } from '@components/Layout';\nimport { Textarea } from '@components/Elements';\nimport rem from '@utils/rem';\n\nimport { db } from '../../services/firebase';\nimport { useAuth } from '../../contexts/AuthContext';\n\nconst Title = styled.h2`\n  margin-top: 40px;\n`;\n\nconst Form = styled.form`\n  margin-top: 24px;\n`;\n\nconst Comment = styled.article`\n  display: flex;\n  justify-content: space-between;\n\n  & + & {\n    margin-top: 22px;\n  }\n`;\n\nconst DeleteComment = styled.button(\n  ({ theme }) => css`\n    width: 24px;\n    height: 24px;\n\n    margin: 0;\n    padding: 0;\n\n    cursor: pointer;\n\n    border: none;\n    background-color: transparent;\n\n    svg {\n      stroke: ${theme.colors.neutral[900]};\n    }\n  `\n);\n\nconst StyledModal = styled(Modal)`\n  section {\n    min-height: unset;\n\n    border: none;\n  }\n\n  button svg {\n    stroke: ${(props) => props.theme.colors.neutral[900]};\n  }\n`;\n\nconst Author = styled.div`\n  display: flex;\n  align-items: center;\n`;\n\nconst Name = styled.strong`\n  font-size: ${rem(16)};\n`;\n\nconst Datetime = styled.time`\n  margin-left: 4px;\n\n  &::before {\n    display: inline-block;\n\n    margin-right: 4px;\n\n    content: '·';\n  }\n`;\n\nconst Message = styled.p`\n  margin: 0;\n\n  white-space: pre-line;\n`;\n\nfunction AuthorInfo({ name, date }) {\n  const commentDate = date.toDate();\n\n  return (\n    <Author>\n      <Name>{name}</Name>{' '}\n      <Datetime>\n        {commentDate.toLocaleDateString(undefined, {\n          year: 'numeric',\n          month: 'long',\n          day: 'numeric',\n        })}\n      </Datetime>\n    </Author>\n  );\n}\n\nAuthorInfo.propTypes = {\n  name: PropTypes.string.isRequired,\n  date: PropTypes.shape({\n    nanoseconds: PropTypes.number,\n    seconds: PropTypes.number,\n    toDate: PropTypes.func,\n  }).isRequired,\n};\n\nfunction commentsReducer(state, action) {\n  switch (action.type) {\n    case 'IDLE': {\n      return {\n        ...state,\n        status: 'IDLE',\n      };\n    }\n    case 'WRITTING': {\n      return {\n        ...state,\n        status: 'writting',\n        value: action.value,\n      };\n    }\n    case 'CREATED': {\n      return {\n        ...state,\n        status: 'created',\n      };\n    }\n    case 'FAILED': {\n      return {\n        ...state,\n        status: 'rejected',\n        action: action.action,\n      };\n    }\n    case 'SELECTED': {\n      return {\n        ...state,\n        selected: action.selected,\n      };\n    }\n    case 'RESET': {\n      return {\n        ...state,\n        selected: null,\n        value: '',\n      };\n    }\n    default: {\n      throw new Error(`Unhandled action type: ${action.type}`);\n    }\n  }\n}\n\nasync function deleteComment(id) {\n  const q = query(collection(db, 'comments'), where(documentId(), '==', id));\n  const querySnapshot = await getDocs(q);\n\n  querySnapshot.forEach(async (doc) => {\n    try {\n      await deleteDoc(doc.ref);\n      return true;\n    } catch (err) {\n      return Promise.reject(err);\n    }\n  });\n}\n\nasync function createComment(currentUser, comment, slug) {\n  try {\n    const createdComment = await addDoc(collection(db, 'comments'), {\n      uid: currentUser.uid,\n      message: comment,\n      userName: currentUser.displayName,\n      date: new Date(),\n      timestamp: serverTimestamp(),\n      slug,\n    });\n\n    return createdComment;\n  } catch (err) {\n    return Promise.reject(err);\n  }\n}\n\nfunction CommentsSection({ comments, slug }) {\n  const { currentUser } = useAuth();\n  const fieldRef = useRef(null);\n\n  const [{ animation: modalAnimation, state: modalState }, toggleModal] =\n    useFade({ startOnRender: false });\n\n  const [state, dispatch] = useReducer(commentsReducer, {\n    status: null,\n    action: null,\n    selected: null,\n    value: '',\n  });\n\n  const { status, action, selected, value } = state;\n\n  const handleOnChange = (event) => {\n    dispatch({ type: 'WRITTING', value: event.target.value });\n    fieldRef.current.style.height = `${fieldRef.current.scrollHeight}px`;\n  };\n\n  const handleForm = async (event) => {\n    event.preventDefault();\n\n    if (!value) {\n      return;\n    }\n\n    try {\n      await createComment(currentUser, value, slug);\n      dispatch({ type: 'CREATED' });\n    } catch (err) {\n      dispatch({ type: 'FAILED', action: 'criar' });\n    }\n\n    dispatch({ type: 'RESET' });\n  };\n\n  const handleSelect = (id) => () => {\n    toggleModal(true);\n    dispatch({ type: 'SELECTED', selected: id });\n  };\n\n  return (\n    <section>\n      <Title>Comentários</Title>\n      {comments.length\n        ? comments.map(({ id, userName, date, message, uid }) => (\n            <Comment key={id}>\n              <div>\n                <AuthorInfo name={userName} date={date} />\n                <Message>{message}</Message>\n              </div>\n              {uid === currentUser?.uid && (\n                <div>\n                  <DeleteComment\n                    title=\"Deletar comentário\"\n                    onClick={handleSelect(id)}\n                  >\n                    <X width={16} height={16} />\n                  </DeleteComment>\n                </div>\n              )}\n            </Comment>\n          ))\n        : 'Não há comentários nesse post.'}\n\n      {currentUser && (\n        <Form onSubmit={handleForm} aria-live=\"polite\">\n          {status === 'created' ? (\n            <Alert show type=\"success\">\n              Seu comentário foi adicionado!\n            </Alert>\n          ) : (\n            <Textarea\n              onChange={handleOnChange}\n              placeholder=\"Deixe um comentário\"\n              value={value}\n              ref={fieldRef}\n            />\n          )}\n        </Form>\n      )}\n\n      <Alert\n        show={status === 'rejected'}\n        closable\n        onClose={() => dispatch({ type: 'IDLE' })}\n        type=\"danger\"\n      >\n        Ocorreu algum erro inexperado ao {action} seu comentário. Tente\n        novamente daqui a pouco.\n      </Alert>\n\n      {modalState && (\n        <StyledModal\n          animation={modalAnimation}\n          onClose={() => toggleModal(false)}\n        >\n          <p>Você tem certeza que deseja deletar esse comentário?</p>\n\n          <Button\n            onClick={() => toggleModal(false)}\n            style={{ marginRight: 12 }}\n          >\n            Cancelar\n          </Button>\n          <Button\n            skin=\"danger\"\n            onClick={async () => {\n              deleteComment(selected);\n              toggleModal(false);\n            }}\n          >\n            Deletar\n          </Button>\n        </StyledModal>\n      )}\n    </section>\n  );\n}\n\nCommentsSection.propTypes = {\n  comments: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.string,\n      userName: PropTypes.string,\n      date: PropTypes.shape({\n        nanoseconds: PropTypes.number,\n        seconds: PropTypes.number,\n        toDate: PropTypes.func,\n      }).isRequired,\n      message: PropTypes.string,\n      uid: PropTypes.string,\n    })\n  ),\n  slug: PropTypes.string.isRequired,\n};\n\nCommentsSection.defaultProps = {\n  comments: [],\n};\n\nexport default CommentsSection;\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { graphql } from 'gatsby';\n\nimport useTransition from '@utils/useTransition';\nimport { Input } from '@components/Elements';\nimport { SEO } from '@components/Layout';\nimport { Title } from '@components/Home';\n\nimport { Posts } from '@components/Posts';\n\nfunction Blog({\n  transitionStatus,\n  data: {\n    allMdx: { edges: posts },\n  },\n}) {\n  const [filteredTerm, setFilteredTerm] = useState('');\n  const filter = (e) => setFilteredTerm(e.target.value.toLowerCase());\n\n  const filteredPosts = posts.filter(({ node }) => {\n    const matchedTags = node.frontmatter.tags.filter((tag) =>\n      tag.toLowerCase().includes(filteredTerm)\n    ).length;\n    return (\n      node.frontmatter.title.toLowerCase().includes(filteredTerm) ||\n      matchedTags ||\n      node.frontmatter.description.toLowerCase().includes(filteredTerm)\n    );\n  });\n\n  const animation = useTransition(transitionStatus);\n\n  return (\n    <div animation={animation}>\n      <SEO\n        title=\"Todos os posts\"\n        keywords={[\n          'blog',\n          'gatsby',\n          'javascript',\n          'react',\n          'styled-components',\n          'design-system',\n          'components',\n        ]}\n      />\n      <div\n        style={{\n          display: 'flex',\n          justifyContent: 'space-between',\n        }}\n      >\n        <Title>Artigos</Title>\n        <Input placeholder=\"Procurar posts\" onChange={filter} />\n      </div>\n      <Posts posts={filteredPosts} />\n    </div>\n  );\n}\n\nexport default Blog;\n\nexport const pageQuery = graphql`\n  query {\n    allMdx(\n      sort: { fields: [frontmatter___date], order: DESC }\n      filter: { frontmatter: { published: { ne: false } } }\n    ) {\n      edges {\n        node {\n          excerpt\n          fields {\n            slug\n          }\n          frontmatter {\n            date(formatString: \"DD/MM/YYYY\", locale: \"pt-BR\")\n            title\n            description\n            tags\n            published\n          }\n        }\n      }\n    }\n  }\n`;\n\nBlog.propTypes = {\n  transitionStatus: PropTypes.oneOf([\n    'entering',\n    'entered',\n    'exiting',\n    'exited',\n  ]),\n  data: PropTypes.shape({\n    allMdx: PropTypes.shape({\n      edges: PropTypes.arrayOf(\n        PropTypes.shape({\n          posts: PropTypes.arrayOf(\n            PropTypes.shape({\n              node: PropTypes.shape({\n                frontmatter: PropTypes.shape({\n                  tags: PropTypes.arrayOf(PropTypes.string),\n                  title: PropTypes.string,\n                  description: PropTypes.string,\n                  date: PropTypes.string,\n                  published: PropTypes.bool,\n                }),\n              }),\n            })\n          ),\n        })\n      ),\n    }),\n  }).isRequired,\n};\n\nBlog.defaultProps = {\n  transitionStatus: undefined,\n};\n"],"names":["styled","rem","props","theme","colors","neutral","Repos","css","spacings","xlarge","Project","target","small","ProjectTitle","PostTitle","ProjectDescription","PostDescription","Title","attrs","as","Picture","radius","Image","darkTheme","children","currentTheme","useDarkTheme","alt","src","Form","Comment","DeleteComment","StyledModal","Modal","Author","Name","Datetime","Message","AuthorInfo","name","commentDate","date","toDate","toLocaleDateString","undefined","year","month","day","commentsReducer","state","action","type","status","value","selected","Error","deleteComment","id","q","query","collection","db","where","documentId","getDocs","forEach","doc","deleteDoc","ref","Promise","reject","createComment","currentUser","comment","slug","addDoc","uid","message","userName","displayName","Date","timestamp","serverTimestamp","createdComment","CommentsSection","comments","useAuth","fieldRef","useRef","useFade","startOnRender","modalAnimation","animation","modalState","toggleModal","useReducer","dispatch","handleForm","event","preventDefault","handleSelect","length","map","key","title","onClick","width","height","onSubmit","Alert","show","onChange","current","style","scrollHeight","placeholder","closable","onClose","Button","marginRight","skin","defaultProps","Blog","transitionStatus","posts","data","allMdx","edges","useState","filteredTerm","setFilteredTerm","filteredPosts","filter","node","matchedTags","frontmatter","tags","tag","toLowerCase","includes","description","useTransition","keywords","display","justifyContent","e"],"sourceRoot":""}