{"version":3,"file":"static/chunks/302.ff5eadba79d3082f.js","mappings":"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","sources":["webpack://_N_E/./src/components/modal/modal.tsx","webpack://_N_E/./node_modules/react-feather/dist/icons/thumbs-up.js","webpack://_N_E/./node_modules/react-feather/dist/icons/share.js","webpack://_N_E/./src/services/comments.ts","webpack://_N_E/./src/components/delete-comment-modal/delete-comment-modal.tsx","webpack://_N_E/./src/services/likes.ts","webpack://_N_E/./src/components/textarea/textarea.tsx","webpack://_N_E/./src/components/alert/alert.tsx","webpack://_N_E/./src/features/article/components/AddComment/add-comment.tsx","webpack://_N_E/./src/features/article/components/Feedback/feedback.tsx","webpack://_N_E/./src/components/alert/alert.module.css","webpack://_N_E/./src/components/delete-comment-modal/delete-comment-modal.module.css","webpack://_N_E/./src/components/modal/modal.module.css","webpack://_N_E/./src/components/textarea/textarea.module.css","webpack://_N_E/./src/features/article/components/AddComment/add-comment.module.css","webpack://_N_E/./src/features/article/components/Feedback/feedback.module.css"],"sourcesContent":["import type React from 'react';\nimport {\n  forwardRef,\n  useImperativeHandle,\n  useRef,\n  useEffect,\n  useState,\n  type PropsWithChildren,\n} from 'react';\n\nimport { cva } from 'class-variance-authority';\nimport { X } from 'react-feather';\nimport { useTranslation } from 'next-i18next';\n\nimport { Button } from '../button/button';\nimport styles from './modal.module.css';\n\nconst modal = cva(styles.modal, {\n  variants: {\n    fadeIn: {\n      true: 'fade-in slide-in-mobile',\n    },\n    fadeOut: {\n      true: 'fade-out slide-out-mobile',\n    },\n  },\n});\n\ntype ModalProps = PropsWithChildren<{\n  title: string;\n  onClickOutside?: () => void;\n  isOpen: boolean;\n}> &\n  React.DialogHTMLAttributes<HTMLDialogElement>;\n\nexport const Modal = forwardRef<HTMLDialogElement, ModalProps>(\n  (\n    {\n      title,\n      children,\n      onClickOutside,\n      isOpen,\n      onClose,\n      className,\n      id = 'modal-title',\n      ...props\n    },\n    ref,\n  ) => {\n    const dialogRef = useRef<HTMLDialogElement | null>(null);\n    const [internalClosed, setInternalClosed] = useState(false);\n    const { t } = useTranslation('common');\n\n    useImperativeHandle(ref, () => dialogRef.current!);\n\n    useEffect(() => {\n      if (isOpen && !dialogRef.current?.open) {\n        dialogRef.current?.showModal();\n      }\n    }, [isOpen]);\n\n    function handleClose() {\n      setInternalClosed(true);\n    }\n\n    function handleClickOutside(event: React.MouseEvent<HTMLDialogElement>) {\n      if (\n        (event.target as HTMLElement).nodeName === 'DIALOG' &&\n        onClickOutside\n      ) {\n        onClickOutside();\n      }\n    }\n\n    return (\n      <dialog\n        {...props}\n        onClose={onClose}\n        ref={dialogRef}\n        aria-labelledby={id}\n        onClick={handleClickOutside}\n        onAnimationEnd={() => {\n          if (!isOpen || internalClosed) {\n            dialogRef.current?.close();\n            setInternalClosed(false);\n          }\n        }}\n        className={modal({\n          className,\n          fadeIn: isOpen && !internalClosed,\n          fadeOut: !isOpen || internalClosed,\n        })}\n      >\n        <div className={styles.modal__wrapper}>\n          <div className={styles.modal__header}>\n            <h2 id={id} className={styles.modal__title}>\n              {title}\n            </h2>\n            <Button\n              onClick={handleClose}\n              aria-label={t('close-modal') as string}\n              variant=\"icon\"\n              size=\"small\"\n            >\n              <X aria-hidden />\n            </Button>\n          </div>\n          {children}\n        </div>\n      </dialog>\n    );\n  },\n);\n\nModal.displayName = 'Modal';\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef } from 'react';\nimport PropTypes from 'prop-types';\nvar ThumbsUp = forwardRef(function (_ref, ref) {\n  var _ref$color = _ref.color,\n      color = _ref$color === void 0 ? 'currentColor' : _ref$color,\n      _ref$size = _ref.size,\n      size = _ref$size === void 0 ? 24 : _ref$size,\n      rest = _objectWithoutProperties(_ref, [\"color\", \"size\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    ref: ref,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: size,\n    height: size,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: color,\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, rest), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3\"\n  }));\n});\nThumbsUp.propTypes = {\n  color: PropTypes.string,\n  size: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n};\nThumbsUp.displayName = 'ThumbsUp';\nexport default ThumbsUp;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef } from 'react';\nimport PropTypes from 'prop-types';\nvar Share = forwardRef(function (_ref, ref) {\n  var _ref$color = _ref.color,\n      color = _ref$color === void 0 ? 'currentColor' : _ref$color,\n      _ref$size = _ref.size,\n      size = _ref$size === void 0 ? 24 : _ref$size,\n      rest = _objectWithoutProperties(_ref, [\"color\", \"size\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    ref: ref,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: size,\n    height: size,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: color,\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, rest), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8\"\n  }), /*#__PURE__*/React.createElement(\"polyline\", {\n    points: \"16 6 12 2 8 6\"\n  }), /*#__PURE__*/React.createElement(\"line\", {\n    x1: \"12\",\n    y1: \"2\",\n    x2: \"12\",\n    y2: \"15\"\n  }));\n});\nShare.propTypes = {\n  color: PropTypes.string,\n  size: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n};\nShare.displayName = 'Share';\nexport default Share;","import {\n  collection,\n  addDoc,\n  deleteDoc,\n  query,\n  where,\n  getDocs,\n  documentId,\n  serverTimestamp,\n} from 'firebase/firestore';\nimport type { User } from 'firebase/auth';\n\nimport { db } from './firebase';\n\nexport async function deleteComment(id: string) {\n  const q = query(collection(db, 'comments'), where(documentId(), '==', id));\n  const querySnapshot = await getDocs(q);\n\n  querySnapshot.forEach(async (doc) => {\n    try {\n      await deleteDoc(doc.ref);\n      return true;\n    } catch (err) {\n      return Promise.reject(err);\n    }\n  });\n}\n\nexport async function createComment(currentUser: User, comment: string, slug: string) {\n  try {\n    const createdComment = await addDoc(collection(db, 'comments'), {\n      uid: currentUser.uid,\n      message: comment,\n      userName: currentUser.displayName,\n      date: new Date(),\n      timestamp: serverTimestamp(),\n      slug,\n    });\n\n    return createdComment;\n  } catch (err) {\n    return Promise.reject(err);\n  }\n}\n","import { useTranslation } from 'next-i18next';\n\nimport { DELETE_COMMENT_MODAL_KEY } from 'src/constants/modals';\nimport { deleteComment } from 'src/services/comments';\nimport { Button } from '../button/button';\nimport { Modal } from '../modal/modal';\nimport { useModals } from '../modal/modal-context';\nimport styles from './delete-comment-modal.module.css';\n\ntype DeleteCommentModalProps = {\n  commentId: string;\n  message: string;\n};\n\nexport function DeleteCommentModal({\n  commentId,\n  message,\n}: DeleteCommentModalProps) {\n  const { t } = useTranslation(['delete-comment-modal', 'common']);\n  const { openedModals, closeModal } = useModals();\n\n  const modalId = `${DELETE_COMMENT_MODAL_KEY}-${commentId}`;\n  const isDeleteCommentModalOpen = openedModals.includes(modalId);\n\n  function handleCancel() {\n    closeModal(modalId);\n  }\n\n  function handleDelete() {\n    deleteComment(commentId);\n    closeModal(modalId);\n  }\n\n  return (\n    <Modal\n      isOpen={isDeleteCommentModalOpen}\n      title={t('delete-comment-modal:title')}\n      onClose={handleCancel}\n      onClickOutside={handleCancel}\n      id=\"delete-comment-modal\"\n    >\n      <p>{t('delete-comment-modal:description')}</p>\n      <blockquote className={styles.modal__message}>{message}</blockquote>\n      <div className={styles.modal__footer}>\n        <Button variant=\"inverted\" onClick={handleCancel}>\n          {t('common:cancel')}\n        </Button>\n        <Button variant=\"ghost\" onClick={handleDelete}>\n          {t('common:delete')}\n        </Button>\n      </div>\n    </Modal>\n  );\n}\n","import {\n  doc,\n  getDoc,\n  onSnapshot,\n  setDoc,\n  increment,\n  updateDoc,\n  DocumentSnapshot,\n} from 'firebase/firestore';\n\nimport { db } from './firebase';\n\nexport function listenLikes(\n  slug: string,\n  // eslint-disable-next-line no-unused-vars\n  callback: (snapshot: DocumentSnapshot) => void,\n) {\n  const docRef = doc(db, 'likes', slug.replace('/', ''));\n  const stream = onSnapshot(docRef, callback);\n\n  return stream;\n}\n\nexport async function like(slug: string, userId: string) {\n  const likesRef = doc(db, 'likes', slug.replace('/', ''));\n  const currentLikes = await getDoc(likesRef);\n\n  if (currentLikes.exists()) {\n    const currentUsers = currentLikes.data().userIds;\n    const alreadyLiked = currentUsers.includes(userId);\n\n    if (alreadyLiked) {\n      const decrementedLike = await updateDoc(likesRef, {\n        count: increment(-1),\n        userIds: currentUsers.filter((user: string) => user !== userId),\n      });\n\n      return decrementedLike;\n    }\n\n    const incrementedLike = await updateDoc(likesRef, {\n      count: increment(1),\n      userIds: [...currentUsers, userId],\n    });\n\n    return incrementedLike;\n  }\n\n  const createdLike = await setDoc(doc(db, 'likes', slug.replace('/', '')), {\n    count: 1,\n    userIds: [userId],\n  });\n\n  return createdLike;\n}\n","import type React from 'react';\nimport styles from './textarea.module.css';\n\ntype TextareaProps = {} & React.TextareaHTMLAttributes<HTMLTextAreaElement>;\n\nexport function Textarea(props: TextareaProps) {\n  return <textarea className={styles.textarea} {...props} />;\n}\n","import type React from 'react';\nimport type { PropsWithChildren } from 'react';\nimport { cva } from 'class-variance-authority';\n\nimport styles from './alert.module.css';\n\nconst alert = cva(styles.alert);\n\nexport function Alert({\n  children,\n  className,\n}: PropsWithChildren<React.HTMLAttributes<HTMLDivElement>>) {\n  return (\n    <div role=\"alert\" className={alert({ className })}>\n      {children}\n    </div>\n  );\n}\n","import type React from 'react';\nimport { useReducer } from 'react';\nimport { useTranslation } from 'next-i18next';\n\nimport { Button } from 'src/components/button/button';\nimport { Textarea } from 'src/components/textarea/textarea';\nimport { Alert } from 'src/components/alert/alert';\nimport { createComment } from 'src/services/comments';\n\nimport styles from './add-comment.module.css';\nimport { useAuth } from 'src/contexts/auth';\n\nconst actions = {\n  CREATED: 'CREATED',\n  CHANGE: 'CHANGE',\n  ERROR: 'ERROR',\n} as const;\n\ntype CommentState = {\n  value?: string;\n  status: null | typeof actions.CREATED | typeof actions.ERROR;\n};\n\ntype CommentAction = {\n  type: keyof typeof actions;\n  value?: string;\n};\n\nfunction commentsReducer(state: CommentState, action: CommentAction) {\n  switch (action.type) {\n    case actions.CHANGE: {\n      return {\n        ...state,\n        status: null,\n        value: action.value,\n      };\n    }\n    case actions.CREATED: {\n      return {\n        ...state,\n        status: actions.CREATED,\n        value: '',\n      };\n    }\n    case actions.ERROR: {\n      return {\n        ...state,\n        status: actions.ERROR,\n      };\n    }\n    default: {\n      throw new Error(`Unhandled action type: ${action.type}`);\n    }\n  }\n}\n\nexport function AddComment({ slug }: { slug: string }) {\n  const { t } = useTranslation('article');\n  const { currentUser } = useAuth();\n  const [state, dispatch] = useReducer(commentsReducer, {\n    status: null,\n    value: '',\n  });\n\n  const trimmedValue = state.value?.trim();\n\n  function handleCommentChange(event: React.ChangeEvent<HTMLTextAreaElement>) {\n    dispatch({ type: actions.CHANGE, value: event.target.value });\n  }\n\n  async function handleSubmit(event: React.FormEvent<HTMLFormElement>) {\n    event.preventDefault();\n\n    if (!currentUser || !trimmedValue) {\n      return;\n    }\n\n    try {\n      await createComment(currentUser, state.value!, slug);\n      dispatch({ type: actions.CREATED });\n    } catch (err) {\n      dispatch({ type: actions.ERROR, value: state.value });\n    }\n  }\n\n  return (\n    <form className={styles.comment} onSubmit={handleSubmit}>\n      <Textarea\n        placeholder={t('add-comment') as string}\n        onChange={handleCommentChange}\n        value={state.value}\n        rows={5}\n        name=\"comment\"\n        required\n      />\n      <Button\n        variant=\"inverted\"\n        type=\"submit\"\n        className={styles.comment__button}\n        disabled={!trimmedValue}\n      >\n        {t('comment-button')}\n      </Button>\n      {state.status === 'ERROR' && (\n        <Alert className={styles.comment__alert}>{t('comment-error')}</Alert>\n      )}\n    </form>\n  );\n}\n","import {\n  query,\n  collection,\n  where,\n  orderBy,\n  onSnapshot,\n  type DocumentData,\n} from 'firebase/firestore';\nimport { useState, useEffect } from 'react';\nimport { Share, ThumbsUp, X } from 'react-feather';\nimport { cva } from 'class-variance-authority';\nimport { useTranslation } from 'next-i18next';\n\nimport { Button } from 'src/components/button/button';\nimport { DeleteCommentModal } from 'src/components/delete-comment-modal/delete-comment-modal';\nimport { useModals } from 'src/components/modal/modal-context';\nimport {\n  DELETE_COMMENT_MODAL_KEY,\n  SIGN_IN_MODAL_KEY,\n} from 'src/constants/modals';\nimport { SITE_BASE_URL } from 'src/constants';\nimport { listenLikes, like } from 'src/services/likes';\nimport { db } from 'src/services/firebase';\nimport { useAuth } from 'src/contexts/auth';\n\nimport styles from './feedback.module.css';\nimport { AddComment } from '../AddComment/add-comment';\n\nconst likeButton = cva(styles['like-button'], {\n  variants: {\n    liked: {\n      true: styles['like-button--liked'],\n    },\n  },\n});\n\ntype FeedbackProps = {\n  slug: string;\n  title: string;\n  description: string;\n};\n\ntype Comments = {\n  id: string;\n  date: {\n    toDate: () => Date;\n  };\n  message: string;\n  slug: string;\n  timestamp: Date;\n  uid: string;\n  userName: string;\n};\n\ntype ShareData = {\n  title: string;\n  description: string;\n  slug: string;\n};\n\nfunction shareFn({ title, description, slug }: ShareData) {\n  if (navigator.share) {\n    navigator.share({\n      title,\n      text: description,\n      url: `${SITE_BASE_URL}/blog/${slug}`,\n    });\n  }\n}\n\nexport function Feedback({ slug, title, description }: FeedbackProps) {\n  const { t, i18n } = useTranslation('article');\n  const locale = i18n.resolvedLanguage;\n\n  const [likes, setLikes] = useState<DocumentData | undefined>(undefined);\n  const [comments, setComments] = useState<Comments[]>([]);\n\n  const { openModal } = useModals();\n  const { currentUser } = useAuth();\n  const isPostLiked = likes?.userIds.includes(currentUser?.uid);\n\n  useEffect(() => {\n    async function getComments() {\n      const q = query(\n        collection(db, 'comments'),\n        where('slug', '==', slug),\n        orderBy('date', 'desc'),\n      );\n      const unsubscribe = onSnapshot(q, (querySnapshot) => {\n        const comments = querySnapshot.docs.map((doc) => ({\n          id: doc.id,\n          ...doc.data(),\n        })) as Comments[];\n\n        setComments(comments);\n      });\n\n      return () => unsubscribe();\n    }\n\n    listenLikes(slug, (likeds) => {\n      setLikes(likeds.data());\n    });\n\n    getComments();\n  }, [slug]);\n\n  function handleLike() {\n    if (currentUser) {\n      like(slug, currentUser.uid);\n    } else {\n      openModal(SIGN_IN_MODAL_KEY);\n    }\n  }\n\n  return (\n    <>\n      <section className={styles.feedback__actions}>\n        <Button\n          className={likeButton({ liked: isPostLiked })}\n          onClick={handleLike}\n          variant=\"ghost\"\n        >\n          <ThumbsUp aria-hidden size={14} />{' '}\n          {t('like', { count: likes?.count || 0 })}\n        </Button>\n        <Button\n          className={styles.feedback__share}\n          variant=\"inverted\"\n          onClick={() =>\n            shareFn({\n              title,\n              description,\n              slug,\n            })\n          }\n        >\n          Compartilhar\n          <Share size={14} />\n        </Button>\n      </section>\n      <section>\n        <div className={styles['feedback__comment-title-wrapper']}>\n          <h2 className={styles['feedback__comment-title']}>\n            {t('comments-title')} {comments.length && comments.length}\n          </h2>\n          {!currentUser && (\n            <Button\n              variant=\"inverted\"\n              onClick={() => openModal(SIGN_IN_MODAL_KEY)}\n            >\n              Faça o login para deixar um comentário\n            </Button>\n          )}\n        </div>\n        {currentUser && <AddComment slug={slug} />}\n        {comments.length ? (\n          comments.map(({ id, userName, date, message, uid }) => (\n            <div key={id} className={styles.feedback__comment}>\n              <div>\n                <strong className={styles['feedback__comment-author']}>\n                  {userName}\n                </strong>\n                <time className={styles['feedback__comment-date']}>\n                  {date.toDate().toLocaleDateString(locale, {\n                    year: 'numeric',\n                    month: 'long',\n                    day: 'numeric',\n                  })}\n                </time>\n                <p className={styles['feedback__comment-message']}>{message}</p>\n              </div>\n              {uid === currentUser?.uid && (\n                <>\n                  <Button\n                    className={styles['feedback__delete-comment']}\n                    variant=\"icon\"\n                    size=\"small\"\n                    title={t('delete-comment-aria-label') as string}\n                    onClick={() =>\n                      openModal(`${DELETE_COMMENT_MODAL_KEY}-${id}`)\n                    }\n                  >\n                    <X aria-hidden />\n                  </Button>\n                  <DeleteCommentModal commentId={id} message={message} />\n                </>\n              )}\n            </div>\n          ))\n        ) : (\n          <p>{t('no-comments')}</p>\n        )}\n      </section>\n    </>\n  );\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"alert\":\"alert_alert__PSeut\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal__footer\":\"delete-comment-modal_modal__footer__8ghvR\",\"modal__message\":\"delete-comment-modal_modal__message__ye2cl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal\":\"modal_modal__CZ9gP\",\"modal__wrapper\":\"modal_modal__wrapper___80eS\",\"modal__header\":\"modal_modal__header__XSjS5\",\"modal__title\":\"modal_modal__title__e06D5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"textarea\":\"textarea_textarea__9qMB7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"comment\":\"add-comment_comment__QwHU7\",\"comment__button\":\"add-comment_comment__button__ERIrk\",\"comment__alert\":\"add-comment_comment__alert__1SFG6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"feedback__actions\":\"feedback_feedback__actions__JpM2T\",\"feedback__comment-title-wrapper\":\"feedback_feedback__comment-title-wrapper__B7G2a\",\"feedback__comment-title\":\"feedback_feedback__comment-title__VNPif\",\"feedback__actions__comments\":\"feedback_feedback__actions__comments__cC1Qs\",\"like-button\":\"feedback_like-button__QE365\",\"like-button--liked\":\"feedback_like-button--liked__ONjnV\",\"feedback__comment\":\"feedback_feedback__comment__KKS4_\",\"feedback__comment-author\":\"feedback_feedback__comment-author__sfdoi\",\"feedback__comment-date\":\"feedback_feedback__comment-date__f0zf3\",\"feedback__comment-message\":\"feedback_feedback__comment-message__zQ77o\",\"feedback__share\":\"feedback_feedback__share__1629r\"};"],"names":["modal","cva","styles","variants","fadeIn","true","fadeOut","Modal","forwardRef","param","ref","title","children","onClickOutside","isOpen","onClose","className","id","props","dialogRef","useRef","internalClosed","setInternalClosed","useState","t","useTranslation","useImperativeHandle","current","useEffect","open","showModal","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","jsx","dialog","aria-labelledby","onClick","event","target","nodeName","onAnimationEnd","close","jsxs","div","h2","Button","aria-label","variant","size","X","aria-hidden","displayName","_extends","Object","assign","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","ThumbsUp","react","_ref","_ref$color","color","_ref$size","rest","_objectWithoutProperties","excluded","_objectWithoutPropertiesLoose","sourceKeys","keys","indexOf","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","createElement","xmlns","width","height","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","d","share_extends","propTypes","string","prop_types_default","oneOfType","number","Share","share_objectWithoutProperties","share_objectWithoutPropertiesLoose","points","x1","y1","x2","y2","deleteComment","q","query","collection","db","where","documentId","querySnapshot","getDocs","forEach","doc","deleteDoc","err","Promise","reject","createComment","currentUser","comment","slug","addDoc","uid","message","userName","date","Date","timestamp","serverTimestamp","DeleteCommentModal","commentId","openedModals","closeModal","useModals","modalId","DELETE_COMMENT_MODAL_KEY","concat","isDeleteCommentModalOpen","includes","handleCancel","jsx_runtime","p","blockquote","like","userId","likesRef","replace","currentLikes","getDoc","exists","currentUsers","data","userIds","updateDoc","count","increment","filter","user","setDoc","Textarea","textarea","alert","Alert","role","actions","CREATED","CHANGE","ERROR","commentsReducer","state","action","type","status","value","AddComment","useAuth","dispatch","useReducer","trimmedValue","trim","handleSubmit","preventDefault","form","onSubmit","placeholder","onChange","rows","name","required","disabled","likeButton","liked","Feedback","description","i18n","locale","resolvedLanguage","likes","setLikes","undefined","comments","setComments","openModal","isPostLiked","getComments","orderBy","unsubscribe","onSnapshot","docs","map","listenLikes","callback","docRef","likeds","Fragment","section","SIGN_IN_MODAL_KEY","shareFn","navigator","share","text","url","SITE_BASE_URL","strong","time","toDate","toLocaleDateString","year","month","day","module","exports"],"sourceRoot":""}