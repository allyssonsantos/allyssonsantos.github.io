!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="7d52e83a-a2ed-4293-963a-e507b67fe206",e._sentryDebugIdIdentifier="sentry-dbid-7d52e83a-a2ed-4293-963a-e507b67fe206")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[775],{4340:function(e,t,a){"use strict";a.d(t,{u:function(){return m}});var n=a(5893),c=a(7294),l=a(5661),i=a(8268),r=a(6973),s=a(7813),o=a(792),d=a.n(o);let _=(0,l.j)(d().modal,{variants:{fadeIn:{true:"fade-in slide-in-mobile"},fadeOut:{true:"fade-out slide-out-mobile"}}}),m=(0,c.forwardRef)((e,t)=>{let{title:a,children:l,onClickOutside:o,isOpen:m,onClose:u,className:f,id:h="modal-title",...p}=e,b=(0,c.useRef)(null),[x,v]=(0,c.useState)(!1),{t:j}=(0,r.$G)("common");return(0,c.useImperativeHandle)(t,()=>b.current),(0,c.useEffect)(()=>{var e,t;!m||(null===(e=b.current)||void 0===e?void 0:e.open)||null===(t=b.current)||void 0===t||t.showModal()},[m]),(0,n.jsx)("dialog",{...p,onClose:u,ref:b,"aria-labelledby":h,onClick:function(e){"DIALOG"===e.target.nodeName&&o&&o()},onAnimationEnd:()=>{if(!m||x){var e;null===(e=b.current)||void 0===e||e.close(),v(!1)}},className:_({className:f,fadeIn:m&&!x,fadeOut:!m||x}),children:(0,n.jsxs)("div",{className:d().modal__wrapper,children:[(0,n.jsxs)("div",{className:d().modal__header,children:[(0,n.jsx)("h2",{id:h,className:d().modal__title,children:a}),(0,n.jsx)(s.z,{onClick:function(){v(!0)},"aria-label":j("close-modal"),variant:"icon",size:"small",children:(0,n.jsx)(i.Z,{"aria-hidden":!0})})]}),l]})})});m.displayName="Modal"},8775:function(e,t,a){"use strict";a.r(t),a.d(t,{__N_SSG:function(){return ea},default:function(){return en}});var n=a(5893),c=a(2962),l=a(7748),i=a(5675),r=a.n(i),s=a(6973),o=a(3285),d=a.n(o),_=a(8718),m=a(7294),u=a(1027),f=a(5123),h=a(8268),p=a(5661),b=a(7813),x=a(8081),v=a(1266);async function j(e){let t=(0,_.IO)((0,_.hJ)(v.db,"comments"),(0,_.ar)((0,_.Jm)(),"==",e));(await (0,_.PL)(t)).forEach(async e=>{try{return await (0,_.oe)(e.ref),!0}catch(e){return Promise.reject(e)}})}async function k(e,t,a){try{return await (0,_.ET)((0,_.hJ)(v.db,"comments"),{uid:e.uid,message:t,userName:e.displayName,date:new Date,timestamp:(0,_.Bt)(),slug:a})}catch(e){return Promise.reject(e)}}var g=a(4340),y=a(8133),N=a(5111),w=a.n(N);function C(e){let{commentId:t,message:a}=e,{t:c}=(0,s.$G)(["delete-comment-modal","common"]),{openedModals:l,closeModal:i}=(0,y.o)(),r="".concat(x.VI,"-").concat(t),o=l.includes(r);function d(){i(r)}return(0,n.jsxs)(g.u,{isOpen:o,title:c("delete-comment-modal:title"),onClose:d,onClickOutside:d,id:"delete-comment-modal",children:[(0,n.jsx)("p",{children:c("delete-comment-modal:description")}),(0,n.jsx)("blockquote",{className:w().modal__message,children:a}),(0,n.jsxs)("div",{className:w().modal__footer,children:[(0,n.jsx)(b.z,{variant:"inverted",onClick:d,children:c("common:cancel")}),(0,n.jsx)(b.z,{variant:"ghost",onClick:function(){j(t),i(r)},children:c("common:delete")})]})]})}async function E(e,t){let a=(0,_.JU)(v.db,"likes",e.replace("/","")),n=await (0,_.QT)(a);if(n.exists()){let e=n.data().userIds;return e.includes(t)?await (0,_.r7)(a,{count:(0,_.nP)(-1),userIds:e.filter(e=>e!==t)}):await (0,_.r7)(a,{count:(0,_.nP)(1),userIds:[...e,t]})}return await (0,_.pl)((0,_.JU)(v.db,"likes",e.replace("/","")),{count:1,userIds:[t]})}var R=a(9457),I=a(600),S=a.n(I),z=a(3204),G=a.n(z);function T(e){return(0,n.jsx)("textarea",{className:G().textarea,...e})}var A=a(9561),D=a.n(A);let O=(0,p.j)(D().alert);function J(e){let{children:t,className:a}=e;return(0,n.jsx)("div",{role:"alert",className:O({className:a}),children:t})}var P=a(8091),B=a.n(P);let F={CREATED:"CREATED",CHANGE:"CHANGE",ERROR:"ERROR"};function H(e,t){switch(t.type){case F.CHANGE:return{...e,status:null,value:t.value};case F.CREATED:return{...e,status:F.CREATED,value:""};case F.ERROR:return{...e,status:F.ERROR};default:throw Error("Unhandled action type: ".concat(t.type))}}function V(e){var t;let{slug:a}=e,{t:c}=(0,s.$G)("article"),{currentUser:l}=(0,R.aC)(),[i,r]=(0,m.useReducer)(H,{status:null,value:""}),o=null===(t=i.value)||void 0===t?void 0:t.trim();async function d(e){if(e.preventDefault(),l&&o)try{await k(l,i.value,a),r({type:F.CREATED})}catch(e){r({type:F.ERROR,value:i.value})}}return(0,n.jsxs)("form",{className:B().comment,onSubmit:d,children:[(0,n.jsx)(T,{placeholder:c("add-comment"),onChange:function(e){r({type:F.CHANGE,value:e.target.value})},value:i.value,rows:5,name:"comment",required:!0}),(0,n.jsx)(b.z,{variant:"inverted",type:"submit",className:B().comment__button,disabled:!o,children:c("comment-button")}),"ERROR"===i.status&&(0,n.jsx)(J,{className:B().comment__alert,children:c("comment-error")})]})}let X=(0,p.j)(S()["like-button"],{variants:{liked:{true:S()["like-button--liked"]}}});function L(e){let{slug:t,title:a,description:c}=e,{t:i,i18n:r}=(0,s.$G)("article"),o=r.resolvedLanguage,[d,p]=(0,m.useState)(void 0),[j,k]=(0,m.useState)([]),{openModal:g}=(0,y.o)(),{currentUser:N}=(0,R.aC)(),w=null==d?void 0:d.userIds.includes(null==N?void 0:N.uid),I="undefined"!=typeof navigator&&navigator.share;return(0,m.useEffect)(()=>{async function e(){let e=(0,_.IO)((0,_.hJ)(v.db,"comments"),(0,_.ar)("slug","==",t),(0,_.Xo)("date","desc")),a=(0,_.cf)(e,e=>{k(e.docs.map(e=>({id:e.id,...e.data()})))});return()=>a()}(function(e,t){let a=(0,_.JU)(v.db,"likes",e.replace("/",""));(0,_.cf)(a,t)})(t,e=>{p(e.data())}),e()},[t]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("section",{className:S().feedback__actions,children:[(0,n.jsxs)(b.z,{className:X({liked:w}),onClick:function(){N?E(t,N.uid):g(x.xC)},variant:"ghost",children:[(0,n.jsx)(u.Z,{"aria-hidden":!0,size:14})," ",i("like",{count:(null==d?void 0:d.count)||0})]}),I&&(0,n.jsxs)(b.z,{className:S().feedback__share,variant:"inverted",onClick:()=>(function(e){let{title:t,description:a,slug:n}=e;navigator.share&&navigator.share({title:t,text:a,url:"".concat(l.Bt,"/blog/").concat(n)})})({title:a,description:c,slug:t}),children:["Compartilhar",(0,n.jsx)(f.Z,{size:14})]})]}),(0,n.jsxs)("section",{children:[(0,n.jsxs)("div",{className:S()["feedback__comment-title-wrapper"],children:[(0,n.jsxs)("h2",{className:S()["feedback__comment-title"],children:[i("comments-title")," ",j.length&&j.length]}),!N&&(0,n.jsx)(b.z,{variant:"inverted",onClick:()=>g(x.xC),children:"Fa\xe7a o login para deixar um coment\xe1rio"})]}),N&&(0,n.jsx)(V,{slug:t}),j.length?j.map(e=>{let{id:t,userName:a,date:c,message:l,uid:r}=e;return(0,n.jsxs)("div",{className:S().feedback__comment,children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{className:S()["feedback__comment-author"],children:a}),(0,n.jsx)("time",{className:S()["feedback__comment-date"],children:c.toDate().toLocaleDateString(o,{year:"numeric",month:"long",day:"numeric"})}),(0,n.jsx)("p",{className:S()["feedback__comment-message"],children:l})]}),r===(null==N?void 0:N.uid)&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(b.z,{className:S()["feedback__delete-comment"],variant:"icon",size:"small",title:i("delete-comment-aria-label"),onClick:()=>g("".concat(x.VI,"-").concat(t)),children:(0,n.jsx)(h.Z,{"aria-hidden":!0})}),(0,n.jsx)(C,{commentId:t,message:l})]})]},t)}):(0,n.jsx)("p",{children:i("no-comments")})]})]})}var Q=a(5627),Z=a(7333),M=a(3808);function U(e){let{showTabs:t,closableTabs:a=!0,showPreview:c=!0,showConsole:l,showFileExplorer:i,visibleFiles:r,activeFile:s,customSetup:o,template:d="react",..._}=e,m="#00fdfd";return(0,n.jsxs)(Z.oT,{customSetup:o,options:{visibleFiles:r,activeFile:s},..._,theme:{...M.X4,colors:{...M.X4.colors,accent:m},syntax:{...M.X4.syntax,keyword:m,property:m},font:{size:"14px"}},template:d,children:[(0,n.jsx)(Z._V,{showTabs:t,closableTabs:a}),(0,n.jsxs)(Z.sp,{children:[c&&(0,n.jsx)(Z.Gj,{showOpenInCodeSandbox:!1}),i&&(0,n.jsx)(Z.Lj,{autoHiddenFiles:!0}),l&&(0,n.jsx)(Z.Tq,{})]})]})}function $(e){let{children:t,path:a}=e,{sandpack:{openFile:c}}=(0,Z.X3)();return(0,n.jsx)("button",{onClick:()=>c(a),children:t})}function q(e){let{code:t}=e,a=(0,Q.z)(t);return(0,n.jsx)(a,{components:{CodeEditor:U,GoToFile:$}})}function K(e){let{post:t}=e,{t:a}=(0,s.$G)("article"),c=Math.floor(t.readingTime.minutes);return(0,n.jsxs)("div",{className:d().article,children:[(0,n.jsxs)("div",{className:d().article__header,children:[(0,n.jsx)("h1",{className:d().article__title,children:t.title}),(0,n.jsx)("small",{className:d()["article__reading-time"],children:(0,n.jsxs)("abbr",{title:a("estimated-time-to-read",{count:c}),children:[c," min"]})})]}),(0,n.jsx)("div",{className:d()["article__cover-wrapper"],children:(0,n.jsx)(r(),{className:d().article__cover,src:"/images/articles/".concat(t.slug,"/").concat(t.cover),alt:t.altCover,fill:!0,priority:!0})}),(0,n.jsx)("article",{children:(0,n.jsx)(q,{code:t.body.code})}),(0,n.jsx)(L,{title:t.title,description:t.description,slug:t.slug})]})}var W=a(1125),Y=a.n(W);function ee(e){let{children:t}=e;return(0,n.jsx)("div",{className:Y().article,children:t})}var et=a(426),ea=!0;function en(e){let{article:t}=e,a="".concat(l.Bt,"/blog/").concat(t.slug),i="".concat(l.Bt,"/images/articles/").concat(t.slug,"/").concat(t.cover);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c.PB,{title:t.title,description:t.description,canonical:a,openGraph:{url:a,title:t.title,description:t.description,type:"article",images:[{url:i,width:800,height:600,alt:t.title,type:"image/jpeg"}],article:{publishedTime:t.publishedAt,authors:["https://twitter.com/_allyssonsantos"],tags:t.tags}}}),(0,n.jsx)(c.dX,{type:"Article",url:a,title:t.title,images:[i],datePublished:"".concat(t.publishedAt,"T12:00:00-03:00"),authorName:"Allysson Santos",description:t.description}),(0,n.jsx)(K,{post:t})]})}en.getLayout=function(e){return(0,n.jsx)(et.I,{children:(0,n.jsx)(ee,{children:e})})}},9561:function(e){e.exports={alert:"alert_alert__PSeut"}},5111:function(e){e.exports={modal__footer:"delete-comment-modal_modal__footer__8ghvR",modal__message:"delete-comment-modal_modal__message__ye2cl"}},792:function(e){e.exports={modal:"modal_modal__CZ9gP",modal__wrapper:"modal_modal__wrapper___80eS",modal__header:"modal_modal__header__XSjS5",modal__title:"modal_modal__title__e06D5"}},3204:function(e){e.exports={textarea:"textarea_textarea__9qMB7"}},3285:function(e){e.exports={article:"article_article__Ijdm4",article__header:"article_article__header__cwcoR",article__title:"article_article__title__Wb_JV","article__reading-time":"article_article__reading-time__BQ7Vg","article__cover-wrapper":"article_article__cover-wrapper__JoBSy",article__cover:"article_article__cover__njZ_R"}},8091:function(e){e.exports={comment:"add-comment_comment__QwHU7",comment__button:"add-comment_comment__button__ERIrk",comment__alert:"add-comment_comment__alert__1SFG6"}},600:function(e){e.exports={feedback__actions:"feedback_feedback__actions__JpM2T","feedback__comment-title-wrapper":"feedback_feedback__comment-title-wrapper__B7G2a","feedback__comment-title":"feedback_feedback__comment-title__VNPif",feedback__actions__comments:"feedback_feedback__actions__comments__cC1Qs","like-button":"feedback_like-button__QE365","like-button--liked":"feedback_like-button--liked__ONjnV",feedback__comment:"feedback_feedback__comment__KKS4_","feedback__comment-author":"feedback_feedback__comment-author__sfdoi","feedback__comment-date":"feedback_feedback__comment-date__f0zf3","feedback__comment-message":"feedback_feedback__comment-message__zQ77o",feedback__share:"feedback_feedback__share__1629r"}},1125:function(e){e.exports={article:"article_article__JtJSy"}}}]);