"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[831],{9831:function(t,e,n){n.r(e),n.d(e,{SandpackStatic:function(){return c}});var i=n(7046),r=n(3679),o=n(1421),a=n(2772);n(7272),n(1116);var insertHtmlAfterRegex=function(t,e,n){var i=t.exec(e);if(i&&i.length>=1){var r=i.index+i[0].length;return e.substring(0,r)+n+e.substring(r)}},readBuffer=function(t){return"string"==typeof t?t:new TextDecoder().decode(t)},validateHtml=function(t){var e=readBuffer(t),n=new DOMParser().parseFromString(e,"text/html");n.documentElement.getAttribute("lang")||n.documentElement.setAttribute("lang","en");var i=n.documentElement.outerHTML;return"<!DOCTYPE html>\n".concat(i)},c=function(t){function SandpackStatic(e,n,i){void 0===i&&(i={});var a,c=t.call(this,e,n,i)||this;if(c.files=new Map,c.status="initializing",c.emitter=new o.E,c.previewController=new r.PreviewController({baseUrl:null!==(a=i.bundlerURL)&&void 0!==a?a:"https://preview.sandpack-static-server.codesandbox.io",getFileContent:function(t){var e=c.files.get(t);if(!e)throw Error("File not found");if(t.endsWith(".html")||t.endsWith(".htm"))try{e=validateHtml(e),e=c.injectProtocolScript(e),e=c.injectExternalResources(e,i.externalResources),e=c.injectScriptIntoHead(e,{script:o.c,scope:{channelId:(0,o.g)()}})}catch(t){console.error("Runtime injection failed",t)}return e}}),"string"==typeof e){c.selector=e;var s=document.querySelector(e);c.element=s,c.iframe=document.createElement("iframe")}else c.element=e,c.iframe=e;return c.iframe.getAttribute("sandbox")||(c.iframe.setAttribute("sandbox","allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts allow-downloads allow-pointer-lock"),c.iframe.setAttribute("allow","accelerometer; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; clipboard-write;")),c.eventListener=c.eventListener.bind(c),"undefined"!=typeof window&&window.addEventListener("message",c.eventListener),c.updateSandbox(),c}return(0,i.g)(SandpackStatic,t),SandpackStatic.prototype.injectContentIntoHead=function(t,e){var n;return t=null!==(n=insertHtmlAfterRegex(/<head[^<>]*>/g,t=readBuffer(t),"\n"+e))&&void 0!==n?n:e+"\n"+t},SandpackStatic.prototype.injectProtocolScript=function(t){return this.injectContentIntoHead(t,'<script>\n  window.addEventListener("message", (message) => {\n    if(message.data.type === "refresh") {\n      window.location.reload();\n    }\n  })\n</script>')},SandpackStatic.prototype.injectExternalResources=function(t,e){void 0===e&&(e=[]);var n=e.map(function(t){var e=t.match(/\.([^.]*)$/),n=null==e?void 0:e[1];if("css"===n||t.includes("fonts.googleapis"))return'<link rel="stylesheet" href="'.concat(t,'">');if("js"===n)return'<script src="'.concat(t,'"></script>');throw Error("Unable to determine file type for external resource: ".concat(t))}).join("\n");return this.injectContentIntoHead(t,n)},SandpackStatic.prototype.injectScriptIntoHead=function(t,e){var n=e.script,i=e.scope,r="\n    <script>\n      const scope = ".concat(JSON.stringify(void 0===i?{}:i),";\n      ").concat(n,"\n    </script>\n    ").trim();return this.injectContentIntoHead(t,r)},SandpackStatic.prototype.updateSandbox=function(t,e){void 0===t&&(t=this.sandboxSetup);var n=(0,o.f)(t.files);this.dispatch({codesandbox:!0,modules:n,template:t.template,type:"compile"})},SandpackStatic.prototype.compile=function(t){return(0,i._)(this,void 0,void 0,function(){var e;return(0,i.a)(this,function(n){switch(n.label){case 0:return this.files=new Map(Object.entries(t)),[4,this.previewController.initPreview()];case 1:return e=n.sent(),this.iframe.setAttribute("src",e),this.status="done",this.dispatch({type:"done",compilatonError:!1}),this.dispatch({type:"urlchange",url:e,back:!1,forward:!1}),[2]}})})},SandpackStatic.prototype.eventListener=function(t){if(t.source===this.iframe.contentWindow){var e=t.data;e.codesandbox&&this.dispatch(e)}},SandpackStatic.prototype.dispatch=function(t){var e;"compile"===t.type?this.compile(t.modules):(null===(e=this.iframe.contentWindow)||void 0===e||e.postMessage(t,"*"),this.emitter.dispatch(t))},SandpackStatic.prototype.listen=function(t){return this.emitter.listener(t)},SandpackStatic.prototype.destroy=function(){this.emitter.cleanup(),"undefined"!=typeof window&&window.removeEventListener("message",this.eventListener)},SandpackStatic}(a.S)}}]);