!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="cb35a4ed-44a6-4c72-aedf-44758032c5c3",e._sentryDebugIdIdentifier="sentry-dbid-cb35a4ed-44a6-4c72-aedf-44758032c5c3")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1974:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return U},default:function(){return V}});var a=n(5893),r=n(2962),c=n(7748),i=n(5675),l=n.n(i),s=n(7294),o=n(3935),d=n(2942);let u=(e,t={})=>{let n={React:s,ReactDOM:o,_jsx_runtime:d.i,...t};return Function(...Object.keys(n),e)(...Object.values(n)).default},_=(e,t={})=>s.useMemo(()=>u(e,t),[e,t]);var m=n(6973),f=n(2172),p=n(3849),b=n(8091),h=n.n(b),v=n(9457);let g={CREATED:"CREATED",CHANGE:"CHANGE",ERROR:"ERROR"};function k(e,t){switch(t.type){case g.CHANGE:return{...e,status:null,value:t.value};case g.CREATED:return{...e,status:g.CREATED,value:""};case g.ERROR:return{...e,status:g.ERROR};default:throw Error("Unhandled action type: ".concat(t.type))}}function j(e){let{slug:t}=e,{t:n}=(0,m.$G)("article"),{currentUser:r}=(0,v.aC)(),[c,i]=(0,s.useReducer)(k,{status:null,value:""});async function l(e){if(e.preventDefault(),r&&c.value)try{await (0,p.Y)(r,c.value,t),i({type:g.CREATED})}catch(e){i({type:g.ERROR,value:c.value})}}return(0,a.jsxs)("form",{className:h().comment,onSubmit:l,children:[(0,a.jsx)(f.gx,{placeholder:n("add-comment"),onChange:function(e){i({type:g.CHANGE,value:e.target.value})},value:c.value,rows:5,name:"comment"}),(0,a.jsx)(f.zx,{variant:"inverted",type:"submit",className:h().comment__button,children:n("comment-button")}),"ERROR"===c.status&&(0,a.jsx)(f.bZ,{className:h().comment__alert,children:n("comment-error")})]})}var x=n(8718),y=n(5697),w=n.n(y);function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var E=(0,s.forwardRef)(function(e,t){var n=e.color,a=e.size,r=void 0===a?24:a,c=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["color","size"]);return s.createElement("svg",O({ref:t,xmlns:"http://www.w3.org/2000/svg",width:r,height:r,viewBox:"0 0 24 24",fill:"none",stroke:void 0===n?"currentColor":n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},c),s.createElement("path",{d:"M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"}))});function N(){return(N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}E.propTypes={color:w().string,size:w().oneOfType([w().string,w().number])},E.displayName="ThumbsUp";var R=(0,s.forwardRef)(function(e,t){var n=e.color,a=e.size,r=void 0===a?24:a,c=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["color","size"]);return s.createElement("svg",N({ref:t,xmlns:"http://www.w3.org/2000/svg",width:r,height:r,viewBox:"0 0 24 24",fill:"none",stroke:void 0===n?"currentColor":n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},c),s.createElement("path",{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"}))});R.propTypes={color:w().string,size:w().oneOfType([w().string,w().number])},R.displayName="MessageCircle";var C=n(8268),I=n(5661),S=n(8081),T=n(1266);async function z(e,t){let n=(0,x.JU)(T.db,"likes",e.replace("/","")),a=await (0,x.QT)(n);if(a.exists()){let e=a.data().userIds;return e.includes(t)?await (0,x.r7)(n,{count:(0,x.nP)(-1),userIds:e.filter(e=>e!==t)}):await (0,x.r7)(n,{count:(0,x.nP)(1),userIds:[...e,t]})}return await (0,x.pl)((0,x.JU)(T.db,"likes",e.replace("/","")),{count:1,userIds:[t]})}var D=n(600),A=n.n(D);let G=(0,I.j)(A()["like-button"],{variants:{liked:{true:A()["like-button--liked"]}}});function P(e){let{slug:t}=e,{t:n,i18n:r}=(0,m.$G)("article"),c=r.resolvedLanguage,[i,l]=(0,s.useState)(void 0),[o,d]=(0,s.useState)([]),{openModal:u}=(0,f.ol)(),{currentUser:_}=(0,v.aC)(),p=null==i?void 0:i.userIds.includes(null==_?void 0:_.uid);return(0,s.useEffect)(()=>{async function e(){let e=(0,x.IO)((0,x.hJ)(T.db,"comments"),(0,x.ar)("slug","==",t),(0,x.Xo)("date","desc")),n=(0,x.cf)(e,e=>{d(e.docs.map(e=>({id:e.id,...e.data()})))});return()=>n()}(function(e,t){let n=(0,x.JU)(T.db,"likes",e.replace("/",""));(0,x.cf)(n,t)})(t,e=>{l(e.data())}),e()},[t]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("section",{className:A().feedback__actions,children:[(0,a.jsxs)(f.zx,{className:G({liked:p}),onClick:function(){_?z(t,_.uid):u(S.xC)},children:[(0,a.jsx)(E,{"aria-hidden":!0})," ",n("like",{count:(null==i?void 0:i.count)||0})]}),(0,a.jsxs)("div",{className:A().feedback__actions__comments,children:[(0,a.jsx)(R,{})," ",n("comment",{count:o.length||0})]})]}),(0,a.jsxs)("section",{children:[(0,a.jsx)("h2",{className:A()["feedback__comment-title"],children:n("comments-title")}),o.length?o.map(e=>{let{id:t,userName:r,date:i,message:l,uid:s}=e;return(0,a.jsxs)("div",{className:A().feedback__comment,children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{className:A()["feedback__comment-author"],children:r}),(0,a.jsx)("time",{className:A()["feedback__comment-date"],children:i.toDate().toLocaleDateString(c,{year:"numeric",month:"long",day:"numeric"})}),(0,a.jsx)("p",{className:A()["feedback__comment-message"],children:l})]}),s===(null==_?void 0:_.uid)&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(f.zx,{className:A()["feedback__delete-comment"],variant:"icon",size:"small",title:n("delete-comment-aria-label"),onClick:()=>u("".concat(S.VI,"-").concat(t)),children:(0,a.jsx)(C.Z,{"aria-hidden":!0})}),(0,a.jsx)(f.DB,{commentId:t,message:l})]})]},t)}):(0,a.jsx)("p",{children:n("no-comments")}),_&&(0,a.jsx)(j,{slug:t})]})]})}var B=n(3285),J=n.n(B);function L(e){let{post:t}=e,{t:n}=(0,m.$G)("article"),r=_(t.body.code),c=Math.ceil(t.readingTime.minutes);return(0,a.jsxs)("div",{className:J().article,children:[(0,a.jsxs)("div",{className:J().article__header,children:[(0,a.jsx)("h1",{className:J().article__title,children:t.title}),(0,a.jsx)("small",{className:J()["article__reading-time"],children:(0,a.jsxs)("abbr",{title:n("estimated-time-to-read",{count:c}),children:[c," min"]})})]}),(0,a.jsx)("div",{className:J()["article__cover-wrapper"],children:(0,a.jsx)(l(),{className:J().article__cover,src:"/images/articles/".concat(t.slug,"/").concat(t.cover),alt:t.altCover,fill:!0,priority:!0})}),(0,a.jsx)("article",{children:(0,a.jsx)(r,{components:{CodeEditor:f.pq,GoToFile:f.dq}})}),(0,a.jsx)(P,{slug:t.slug})]})}var M=n(1125),F=n.n(M);function H(e){let{children:t}=e;return(0,a.jsx)("div",{className:F().article,children:t})}var Q=n(4368),U=!0;function V(e){let{article:t}=e,n="".concat(c.Bt,"/blog/").concat(t.slug),i="".concat(c.Bt,"/images/articles/").concat(t.slug,"/").concat(t.cover);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.PB,{title:t.title,description:t.description,canonical:n,openGraph:{url:n,title:t.title,description:t.description,type:"article",images:[{url:i,width:800,height:600,alt:t.title,type:"image/jpeg"}],article:{publishedTime:t.publishedAt,authors:["https://twitter.com/_allyssonsantos"],tags:t.tags}}}),(0,a.jsx)(r.dX,{type:"Article",url:n,title:t.title,images:["".concat(c.Bt,"/").concat(t.cover)],datePublished:t.publishedAt,authorName:"Allysson Santos",description:t.description}),(0,a.jsx)(L,{post:t})]})}V.getLayout=function(e){return(0,a.jsx)(Q.I,{children:(0,a.jsx)(H,{children:e})})}},3285:function(e){e.exports={article:"article_article__Ijdm4",article__header:"article_article__header__cwcoR",article__title:"article_article__title__Wb_JV","article__reading-time":"article_article__reading-time__BQ7Vg","article__cover-wrapper":"article_article__cover-wrapper__JoBSy",article__cover:"article_article__cover__njZ_R"}},8091:function(e){e.exports={comment:"add-comment_comment__QwHU7",comment__button:"add-comment_comment__button__ERIrk",comment__alert:"add-comment_comment__alert__1SFG6"}},600:function(e){e.exports={feedback__actions:"feedback_feedback__actions__JpM2T","feedback__comment-title":"feedback_feedback__comment-title__VNPif",feedback__actions__comments:"feedback_feedback__actions__comments__cC1Qs","like-button":"feedback_like-button__QE365","like-button--liked":"feedback_like-button--liked__ONjnV",feedback__comment:"feedback_feedback__comment__KKS4_","feedback__comment-author":"feedback_feedback__comment-author__sfdoi","feedback__comment-date":"feedback_feedback__comment-date__f0zf3","feedback__comment-message":"feedback_feedback__comment-message__zQ77o"}},1125:function(e){e.exports={article:"article_article__JtJSy"}},2942:function(e,t,n){let a=n(5893);e.exports.i=a}}]);