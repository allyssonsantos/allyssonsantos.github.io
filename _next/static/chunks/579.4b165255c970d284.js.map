{"version":3,"file":"static/chunks/579.4b165255c970d284.js","mappings":"miBAiBA,IAAMA,EAAQC,CAAAA,EAAAA,EAAAA,CAAAA,EAAIC,IAAAA,KAAAA,CAAc,CAC9BC,SAAU,CACRC,OAAQ,CACNC,KAAM,yBACR,EACAC,QAAS,CACPD,KAAM,2BACR,CACF,CACF,GASaE,EAAQC,CAAAA,EAAAA,EAAAA,UAAAA,EACnB,CAAAC,EAWEC,QAVA,CACEC,MAAAA,CAAK,CACLC,SAAAA,CAAQ,CACRC,eAAAA,CAAc,CACdC,OAAAA,CAAM,CACNC,QAAAA,CAAO,CACPC,UAAAA,CAAS,CACTC,GAAAA,EAAK,aAAa,CAClB,GAAGC,EACJ,CAAAT,EAGKU,EAAYC,CAAAA,EAAAA,EAAAA,MAAAA,EAAiC,MAC7C,CAACC,EAAgBC,EAAkB,CAAGC,CAAAA,EAAAA,EAAAA,QAAAA,EAAS,IAC/C,CAAEC,EAAAA,CAAC,CAAE,CAAGC,CAAAA,EAAAA,EAAAA,EAAAA,EAAe,gBAE7BC,CAAAA,EAAAA,EAAAA,mBAAAA,EAAoBhB,EAAK,IAAMS,EAAUQ,OAAO,EAEhDC,CAAAA,EAAAA,EAAAA,SAAAA,EAAU,SACOT,EACbA,GADEL,GAAU,QAACK,CAAAA,EAAAA,EAAUQ,OAAO,GAAjBR,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAmBU,IAAI,GACnB,OAAjBV,CAAAA,EAAAA,EAAUQ,OAAO,GAAjBR,KAAAA,IAAAA,GAAAA,EAAmBW,SAAS,EAEhC,EAAG,CAAChB,EAAO,EAgBT,GAAAiB,EAAAC,GAAA,EAACC,SAAAA,CACE,GAAGf,CAAK,CACTH,QAASA,EACTL,IAAKS,EACLe,kBAAiBjB,EACjBkB,QAfJ,SAA4BC,CAA0C,EAEvB,WAA3CA,EAAOC,MAAM,CAAiBC,QAAQ,EACtCzB,GAEAA,GAEJ,EASI0B,eAAgB,KACd,GAAI,CAACzB,GAAUO,EAAgB,KAC7BF,CAAiB,QAAjBA,CAAAA,EAAAA,EAAUQ,OAAO,GAAjBR,KAAAA,IAAAA,GAAAA,EAAmBqB,KAAK,GACxBlB,EAAkB,GACpB,CACF,EACAN,UAAWhB,EAAM,CACfgB,UAAAA,EACAZ,OAAQU,GAAU,CAACO,EACnBf,QAAS,CAACQ,GAAUO,CACtB,YAEA,GAAAU,EAAAU,IAAA,EAACC,MAAAA,CAAI1B,UAAWd,IAAAA,cAAAA,WACd,GAAA6B,EAAAU,IAAA,EAACC,MAAAA,CAAI1B,UAAWd,IAAAA,aAAAA,WACd,GAAA6B,EAAAC,GAAA,EAACW,KAAAA,CAAG1B,GAAIA,EAAID,UAAWd,IAAAA,YAAAA,UACpBS,IAEH,GAAAoB,EAAAC,GAAA,EAACY,EAAAA,CAAMA,CAAAA,CACLT,QAtCV,WACEb,EAAkB,GACpB,EAqCUuB,aAAYrB,EAAE,eACdsB,QAAQ,OACRC,KAAK,iBAEL,GAAAhB,EAAAC,GAAA,EAACgB,EAAAA,CAACA,CAAAA,CAACC,cAAW,UAGjBrC,MAIT,EAGFL,CAAAA,EAAM2C,WAAW,CAAG,gGClHpBC,0FACA,SAAAC,IAAsB,MAAAA,CAAAA,EAAAC,OAAAC,MAAA,CAAAD,OAAAC,MAAA,CAAAC,IAAA,YAAAC,CAAA,EAAwE,QAAAC,EAAA,EAAgBA,EAAAC,UAAAC,MAAA,CAAsBF,IAAA,CAAO,IAAAjC,EAAAkC,SAAA,CAAAD,EAAA,CAAsB,QAAAG,KAAApC,EAAA,KAAoBqC,cAAA,CAAAC,IAAA,CAAAtC,EAAAoC,IAAAJ,CAAAA,CAAA,CAAAI,EAAA,CAAApC,CAAA,CAAAoC,EAAA,EAAgD,OAAAJ,CAAA,GAAWO,MAAA,KAAAL,UAAA,CAwBhP,IAAAM,EAtBA,SAAA9C,CAAA,EACA,OAAsB+C,EAAAC,aAAmB,OAAAd,EAAA,CACzCe,MAAA,GACAC,OAAA,GACApD,UAAA,4DACA,EAAGE,GAAAiC,GAAAA,CAAAA,EAAmCc,EAAAC,aAAmB,MACzDG,KAAA,OACAC,SAAA,SACA,EAAkBL,EAAAC,aAAmB,SACrCG,KAAA,UACAE,EAAA,uGACA,GAAmBN,EAAAC,aAAmB,SACtCG,KAAA,UACAE,EAAA,yHACA,GAAmBN,EAAAC,aAAmB,SACtCG,KAAA,UACAE,EAAA,uFACA,GAAmBN,EAAAC,aAAmB,SACtCG,KAAA,UACAE,EAAA,8HACA,GAAG,EACH,qBCbA,IAAMC,EAAevE,CAAAA,EAAAA,EAAAA,CAAAA,EAAIC,GAAAA,CAAAA,gBAAuB,EAEzC,SAASuE,EAAavD,CAAwB,EACnD,GAAM,CAAEM,EAAAA,CAAC,CAAE,CAAGC,CAAAA,EAAAA,EAAAA,EAAAA,EAAe,iBAE7B,MACE,GAAAiD,EAAAjC,IAAA,EAACkC,SAAAA,CACE,GAAGzD,CAAK,CACT2B,aAAYrB,EAAE,6BACdR,UAAWwD,EAAa,CAAExD,UAAWE,EAAMF,SAAS,aAEpD,GAAA0D,EAAA1C,GAAA,EAACU,MAAAA,CAAI1B,UAAWd,GAAAA,CAAAA,sBAA6B,UAC3C,GAAAwE,EAAA1C,GAAA,EAAC4C,EAAUA,CAAAA,KAEb,GAAAF,EAAA1C,GAAA,EAAC6C,OAAAA,CAAK7D,UAAWd,GAAAA,CAAAA,uBAA8B,UAC5CsB,EAAE,2BAIX,eCfO,SAASsD,IACd,GAAM,CAACC,EAAYC,EAAc,CAAGzD,CAAAA,EAAAA,EAAAA,QAAAA,EAAS,IACvC,CAAE0D,aAAAA,CAAY,CAAEC,WAAAA,CAAU,CAAE,CAAGC,CAAAA,EAAAA,EAAAA,CAAAA,IAC/B,CAAE3D,EAAAA,CAAC,CAAE,CAAGC,CAAAA,EAAAA,EAAAA,EAAAA,EAAe,iBAEvB2D,EAAoBH,EAAaI,QAAQ,CAACC,EAAAA,EAAiBA,EAEjE,SAASC,IACPL,EAAWI,EAAAA,EAAiBA,CAC9B,CAEA,eAAeE,IACb,GAAI,CACF,MAAMC,CAAAA,EAAAA,EAAAA,EAAAA,IACNT,EAAc,IACdE,EAAWI,EAAAA,EAAiBA,CAC9B,CAAE,MAAOI,EAAK,CAEZ,GAAIC,8BAAAA,EAAMC,IAAI,CACZ,OAGFZ,EAAc,GAChB,CACF,CAEA,MACE,GAAAN,EAAA1C,GAAA,EAACzB,EAAAA,CAAKA,CAAAA,CACJO,OAAQsE,EACRzE,MAAOa,EAAE,SACTT,QAASwE,EACT1E,eAAgB0E,EAChBtE,GAAG,yBAEH,GAAAyD,EAAAjC,IAAA,EAACC,MAAAA,CAAI1B,UAAWd,GAAAA,CAAAA,gBAAuB,WACrC,GAAAwE,EAAA1C,GAAA,EAACyC,EAAYA,CACXzD,UAAWd,GAAAA,CAAAA,wBAA+B,CAC1CiC,QAASqD,IAEVT,GAAc,GAAAL,EAAA1C,GAAA,EAACU,MAAAA,UAAI,yBACpB,GAAAgC,EAAAjC,IAAA,EAACC,MAAAA,CAAI1B,UAAWd,GAAAA,CAAAA,4BAAmC,WACjD,GAAAwE,EAAA1C,GAAA,EAAC6D,QAAAA,UAAOrE,EAAE,kBACV,GAAAkD,EAAA1C,GAAA,EAAC6D,QAAAA,UAAOrE,EAAE,yBAKpB,oBC7DAsE,EAAAC,OAAA,EAAkB,2MCAlBD,EAAAC,OAAA,EAAkB,8KCAlBD,EAAAC,OAAA,EAAkB","sources":["webpack://_N_E/./src/components/modal/modal.tsx","webpack://_N_E/./src/components/google-button/google-logo.svg","webpack://_N_E/./src/components/google-button/google-button.tsx","webpack://_N_E/./src/components/sign-in-modal/sign-in-modal.tsx","webpack://_N_E/./src/components/google-button/google-button.module.css","webpack://_N_E/./src/components/modal/modal.module.css","webpack://_N_E/./src/components/sign-in-modal/sign-in-modal.module.css"],"sourcesContent":["import type React from 'react';\nimport {\n  forwardRef,\n  useImperativeHandle,\n  useRef,\n  useEffect,\n  useState,\n  type PropsWithChildren,\n} from 'react';\n\nimport { cva } from 'class-variance-authority';\nimport { X } from 'react-feather';\nimport { useTranslation } from 'next-i18next';\n\nimport { Button } from '../button/button';\nimport styles from './modal.module.css';\n\nconst modal = cva(styles.modal, {\n  variants: {\n    fadeIn: {\n      true: 'fade-in slide-in-mobile',\n    },\n    fadeOut: {\n      true: 'fade-out slide-out-mobile',\n    },\n  },\n});\n\ntype ModalProps = PropsWithChildren<{\n  title: string;\n  onClickOutside?: () => void;\n  isOpen: boolean;\n}> &\n  React.DialogHTMLAttributes<HTMLDialogElement>;\n\nexport const Modal = forwardRef<HTMLDialogElement, ModalProps>(\n  (\n    {\n      title,\n      children,\n      onClickOutside,\n      isOpen,\n      onClose,\n      className,\n      id = 'modal-title',\n      ...props\n    },\n    ref,\n  ) => {\n    const dialogRef = useRef<HTMLDialogElement | null>(null);\n    const [internalClosed, setInternalClosed] = useState(false);\n    const { t } = useTranslation('common');\n\n    useImperativeHandle(ref, () => dialogRef.current!);\n\n    useEffect(() => {\n      if (isOpen && !dialogRef.current?.open) {\n        dialogRef.current?.showModal();\n      }\n    }, [isOpen]);\n\n    function handleClose() {\n      setInternalClosed(true);\n    }\n\n    function handleClickOutside(event: React.MouseEvent<HTMLDialogElement>) {\n      if (\n        (event.target as HTMLElement).nodeName === 'DIALOG' &&\n        onClickOutside\n      ) {\n        onClickOutside();\n      }\n    }\n\n    return (\n      <dialog\n        {...props}\n        onClose={onClose}\n        ref={dialogRef}\n        aria-labelledby={id}\n        onClick={handleClickOutside}\n        onAnimationEnd={() => {\n          if (!isOpen || internalClosed) {\n            dialogRef.current?.close();\n            setInternalClosed(false);\n          }\n        }}\n        className={modal({\n          className,\n          fadeIn: isOpen && !internalClosed,\n          fadeOut: !isOpen || internalClosed,\n        })}\n      >\n        <div className={styles.modal__wrapper}>\n          <div className={styles.modal__header}>\n            <h2 id={id} className={styles.modal__title}>\n              {title}\n            </h2>\n            <Button\n              onClick={handleClose}\n              aria-label={t('close-modal') as string}\n              variant=\"icon\"\n              size=\"small\"\n            >\n              <X aria-hidden />\n            </Button>\n          </div>\n          {children}\n        </div>\n      </dialog>\n    );\n  },\n);\n\nModal.displayName = 'Modal';\n","var _g;\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport * as React from \"react\";\nvar SvgGoogleLogo = function SvgGoogleLogo(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 25,\n    height: 25,\n    className: \"google-logo_svg__nc google-logo_svg__gz google-logo_svg__y\"\n  }, props), _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"none\",\n    fillRule: \"evenodd\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#4285F4\",\n    d: \"M20.66 12.7q0-.915-.15-1.74H12.5v3.28h4.58a3.9 3.9 0 0 1-1.7 2.57v2.13h2.74a8.27 8.27 0 0 0 2.54-6.24\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#34A853\",\n    d: \"M12.5 21a8.1 8.1 0 0 0 5.63-2.06l-2.75-2.13a5.1 5.1 0 0 1-2.88.8 5.06 5.06 0 0 1-4.76-3.5H4.9v2.2A8.5 8.5 0 0 0 12.5 21\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#FBBC05\",\n    d: \"M7.74 14.12a5.1 5.1 0 0 1 0-3.23v-2.2H4.9A8.5 8.5 0 0 0 4 12.5c0 1.37.33 2.67.9 3.82z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#EA4335\",\n    d: \"M12.5 7.38a4.6 4.6 0 0 1 3.25 1.27l2.44-2.44A8.17 8.17 0 0 0 12.5 4a8.5 8.5 0 0 0-7.6 4.68l2.84 2.2a5.06 5.06 0 0 1 4.76-3.5\"\n  }))));\n};\nexport default SvgGoogleLogo;","import type React from 'react';\nimport type { PropsWithChildren } from 'react';\nimport { cva } from 'class-variance-authority';\nimport { useTranslation } from 'next-i18next';\n\nimport GoogleLogo from './google-logo.svg';\nimport styles from './google-button.module.css';\n\ntype GoogleButtonProps = PropsWithChildren &\n  React.ButtonHTMLAttributes<HTMLButtonElement>;\n\nconst googleButton = cva(styles['google-button']);\n\nexport function GoogleButton(props: GoogleButtonProps) {\n  const { t } = useTranslation('sign-in-modal');\n\n  return (\n    <button\n      {...props}\n      aria-label={t('sign-in-with-google-label') as string}\n      className={googleButton({ className: props.className })}\n    >\n      <div className={styles['google-button__logo']}>\n        <GoogleLogo />\n      </div>\n      <span className={styles['google-button__label']}>\n        {t('sign-in-with-google')}\n      </span>\n    </button>\n  );\n}\n","import { useState } from 'react';\n\nimport type { AuthError } from 'firebase/auth';\nimport { useTranslation } from 'next-i18next';\n\nimport { SIGN_IN_MODAL_KEY } from 'src/constants/modals';\nimport { login } from 'src/contexts/auth';\n\nimport styles from './sign-in-modal.module.css';\nimport { Modal } from '../modal/modal';\nimport { GoogleButton } from '../google-button/google-button';\nimport { useModals } from '../modal/modal-context';\n\nconst POPUP_CLOSED_ERROR = 'auth/popup-closed-by-user';\n\nexport function SignInModal() {\n  const [loginError, setLoginError] = useState(false);\n  const { openedModals, closeModal } = useModals();\n  const { t } = useTranslation('sign-in-modal');\n\n  const isSignUpModalOpen = openedModals.includes(SIGN_IN_MODAL_KEY);\n\n  function closeSignInModal() {\n    closeModal(SIGN_IN_MODAL_KEY);\n  }\n\n  async function doLogin() {\n    try {\n      await login();\n      setLoginError(false);\n      closeModal(SIGN_IN_MODAL_KEY);\n    } catch (err) {\n      const error = err as AuthError;\n      if (error.code === POPUP_CLOSED_ERROR) {\n        return;\n      }\n\n      setLoginError(true);\n    }\n  }\n\n  return (\n    <Modal\n      isOpen={isSignUpModalOpen}\n      title={t('title')}\n      onClose={closeSignInModal}\n      onClickOutside={closeSignInModal}\n      id=\"sign-in-modal\"\n    >\n      <div className={styles['sign-in-modal']}>\n        <GoogleButton\n          className={styles['sign-in-modal__button']}\n          onClick={doLogin}\n        />\n        {loginError && <div>something went wrong</div>}\n        <div className={styles['sign-in-modal__disclaimer']}>\n          <small>{t('disclaimer-1')}</small>\n          <small>{t('disclaimer-2')}</small>\n        </div>\n      </div>\n    </Modal>\n  );\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"google-button\":\"google-button_google-button__v5_Xn\",\"google-button__logo\":\"google-button_google-button__logo__JzjlN\",\"google-button__label\":\"google-button_google-button__label__Dr98A\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal\":\"modal_modal__CZ9gP\",\"modal__wrapper\":\"modal_modal__wrapper___80eS\",\"modal__header\":\"modal_modal__header__XSjS5\",\"modal__title\":\"modal_modal__title__e06D5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sign-in-modal\":\"sign-in-modal_sign-in-modal__zXtGf\",\"sign-in-modal__disclaimer\":\"sign-in-modal_sign-in-modal__disclaimer__Tjmub\",\"sign-in-modal__button\":\"sign-in-modal_sign-in-modal__button__R9XVg\"};"],"names":["modal","cva","styles","variants","fadeIn","true","fadeOut","Modal","forwardRef","param","ref","title","children","onClickOutside","isOpen","onClose","className","id","props","dialogRef","useRef","internalClosed","setInternalClosed","useState","t","useTranslation","useImperativeHandle","current","useEffect","open","showModal","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","jsx","dialog","aria-labelledby","onClick","event","target","nodeName","onAnimationEnd","close","jsxs","div","h2","Button","aria-label","variant","size","X","aria-hidden","displayName","_g","_extends","Object","assign","bind","n","e","arguments","length","r","hasOwnProperty","call","apply","google_logo","react","createElement","width","height","fill","fillRule","d","googleButton","GoogleButton","jsx_runtime","button","GoogleLogo","span","SignInModal","loginError","setLoginError","openedModals","closeModal","useModals","isSignUpModalOpen","includes","SIGN_IN_MODAL_KEY","closeSignInModal","doLogin","login","err","error","code","small","module","exports"],"sourceRoot":""}